%!TEX root = ../Thesis.tex
\section{Step 1}
The system given has the cars driving around the circuit in their specific routes. The cars does not stop, when they bump into each other, instead a red square is shown for each collision.
\\

Step one's requirements are to
\begin{itemize}
\item make sure the cars do not collide
\item cause deadlocks in the traffic
\item have cars drive through the alley
\end{itemize}

\subsection{Avoid collision}
Overall the challenges is to stop the cars' collisions and have semaphores handle the alley. The deadlocks is a part in both the collision and the alley in a way.

\begin{figure}[H]
\centering
\caption{The cars driving around the parking lot}
\begin{subfigure}[b]{0.4\textwidth}
\includegraphics[scale=0.3]{./graphics/Cars1.png}
\end{subfigure}
\begin{subfigure}[b]{0.4\textwidth}
\includegraphics[scale=0.3]{./graphics/Cars2.png}
\end{subfigure}
\end{figure}

The idea behind avoiding collision is that the cars can not move, if another car is either already in the way or both cars are trying to enter same field. The cars will in both cases stop. A car already being an obstacle, the waiting car will have to wait for the other car to move along. This situation will never cause a deadlock, but will have cars waiting for each other in a line.

The other case where two cars want to enter same field, can cause a deadlock with both cars waiting for the other car to move. A solution to the deadlock situation is to have a way to let one of the cars drive on some condition. The condition we have chosen is to let the cars with the highest number advance. The condition will have to be unique, because otherwise the cars will collide. The condition is unique, since no cars have the same number.
\\

One problem with the solution is, when the cars are driving through the alley a direction will stop. The cars driving up the alley will stop for the cars with a higher number. In this case a solution is to let the cars in the alley being prioritized higher, than the cars waiting for the alley to be vacant.

\subsection{Alley}